{"version":3,"sources":["scripts/main.js"],"names":["globalTargetForThead","globalTargetForTbody","globalActiveRow","body","document","querySelector","thead","tbody","tbodyTrs","querySelectorAll","pushNotification","posTop","posRight","title","description","type","notification","createElement","elementTitle","elementDescript","className","innerText","dataset","qa","style","top","right","append","setTimeout","remove","addEventListener","e","target","indexColumn","firstElementChild","children","indexOf","doubleClick","undefined","sort","trA","trB","valueA","valueB","slice","split","join","localeCompare","map","tr","targetTr","parentElement","classList","add","insertAdjacentHTML","form","addInputEvents","input","initial","indexTarget","updateCellValue","code","initialValue","value","Number","toLocaleString","length","updatePageValues","data","FormData","preventDefault","age","get","salary","reset","cell","cells","matches","initialText","indexCell","initialSalary","inputEdit","lastElementChild","focus"],"mappings":";AAAA,aAuTC,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EArTD,IAKIA,EACAC,EACAC,EAPAC,EAAOC,SAASC,cAAc,QAC9BC,EAAQF,SAASC,cAAc,SAC/BE,EAAQH,SAASC,cAAc,SAC/BG,EAAeJ,EAAAA,SAASK,iBAAiB,aAMvCC,EAAmB,SAACC,EAAQC,EAAUC,EAAOC,EAAaC,GACxDC,IAAAA,EAAeZ,SAASa,cAAc,OACtCC,EAAed,SAASa,cAAc,MACtCE,EAAkBf,SAASa,cAAc,KAE/CD,EAAaI,UAA4BL,gBAAAA,OAAAA,GACzCG,EAAaE,UAAY,QAEzBF,EAAaG,UAAYR,EACzBM,EAAgBE,UAAYP,EAE5BE,EAAaM,QAAQC,GAAK,eAC1BP,EAAaQ,MAAMC,IAASd,GAAAA,OAAAA,EAA5B,MACAK,EAAaQ,MAAME,MAAWd,GAAAA,OAAAA,EAA9B,MAEAI,EAAaW,OAAOT,GACpBF,EAAaW,OAAOR,GAEpBf,SAASD,KAAKwB,OAAOX,GAErBY,WAAW,WAAMZ,OAAAA,EAAaa,UAAU,MAG1CvB,EAAMwB,iBAAiB,QAAS,SAAAC,GACxBC,IAAAA,EAASD,EAAEC,OACXC,EAAc,EAAI3B,EAAM4B,kBAAkBC,UAAUC,QAAQJ,GAE5DK,EAAcrC,IAAyBgC,EAE7ChC,EAAwBqC,OAAeC,EAAYN,EAEnDxB,EAAS+B,KAAK,SAACC,EAAKC,GACdC,IAAAA,EAAS,EAAIF,EAAIL,UAAUF,GAAaZ,UACxCsB,EAAS,EAAIF,EAAIN,UAAUF,GAAaZ,UAExCW,MAAqB,WAArBA,EAAOX,WACTqB,EAASA,EAAOE,MAAM,GAAGC,MAAM,KAAKC,KAAK,IACzCH,EAASA,EAAOC,MAAM,GAAGC,MAAM,KAAKC,KAAK,IAEjCT,GACHM,GAAUD,GACVA,GAAUC,GAGQ,QAArBX,EAAOX,UACDgB,GACHM,GAAUD,GACVA,GAAUC,EAGTN,EACJM,EAAOI,cAAcL,GACrBA,EAAOK,cAAcJ,KAG3BnC,EAASwC,IAAI,SAAAC,GAAM1C,OAAAA,EAAMoB,OAAOsB,OAGlC1C,EAAMuB,iBAAiB,QAAS,SAAAC,GACxBmB,IAAAA,EAAWnB,EAAEC,OAAOmB,cAEpBd,EAAcpC,IAAyBiD,EAE7CjD,EAAwBoC,OAAeC,EAAYY,OAE3BZ,IAApBpC,GACFA,EAAgBkD,UAAUvB,OAAO,UAGlCQ,EACGa,EAASE,UAAUvB,OAAO,UAC1BqB,EAASE,UAAUC,IAAI,UAE3BnD,EAAkBgD,IAGpB/C,EAAKmD,mBAAmB,YAAxB,u5BAiCA,IAAMC,EAAOnD,SAASC,cAAc,QAsIpC,SAASmD,EAAexB,EAAQyB,EAAOC,EAASC,GAC9CF,EAAM3B,iBAAiB,OAAQ,WAC7B8B,EAAgB5B,EAAQyB,EAAOC,EAASC,KAG1CF,EAAM3B,iBAAiB,QAAS,SAAAC,GACf,UAAXA,EAAE8B,MACJD,EAAgB5B,EAAQyB,EAAOC,EAASC,KAK9C,SAASC,EAAgB5B,EAAQyB,EAAOK,EAAcH,GAChDI,IAAAA,EAEAN,GAAAA,EAAMM,MAGA,OAFRA,EAAQ,EAAIN,EAAMM,OAAOjB,KAAK,KAEtB,GACDa,KAAgB,IAAhBA,EACHI,EAAYC,IAAAA,OAAAA,OAAOD,GAAOE,kBAC1B,MAEGN,KAAgB,IAAhBA,IACEI,EAAQ,KAAOA,EAAQ,MAC1BrD,EAAiB,GAAI,GAAI,iBACvB,gCAAiC,SAEnCqD,EAAQD,GAEV,MAEGH,KAAgB,IAAhBA,EACCI,EAAMG,OAAS,IACjBxD,EAAiB,GAAI,GAAI,iBACvB,2CAA4C,SAE9CqD,EAAQD,QAQdC,EAAQD,EAGVL,EAAM5B,SACNG,EAAOX,UAAY0C,EAGrB,SAASI,IACP7D,EAAQF,SAASC,cAAc,SAC/BG,EAAeJ,EAAAA,SAASK,iBAAiB,aACzCF,EAAQH,SAASC,cAAc,SAC/BF,EAAOC,SAASC,cAAc,QA5LhCkD,EAAKzB,iBAAiB,SAAU,SAAAC,GACxBqC,IAAAA,EAAO,IAAIC,SAASd,GAE1BxB,EAAEuC,iBAEIC,IAAAA,GAAOH,EAAKI,IAAI,OAChBC,GAAUL,EAAKI,IAAI,UAEjB,QAAA,GACA,MAACJ,EAAKI,IAAI,SACVJ,EAAKI,IAAI,aACTJ,EAAKI,IAAI,WACTD,GACAE,GAKJ,YAHA/D,EAAiB,GAAI,GAAI,qBACvB,+BAAgC,SAI9B0D,KAAAA,EAAKI,IAAI,QAAQN,OAAS,EAK9B,YAHAxD,EAAiB,GAAI,GAAI,iBACvB,2CAA4C,SAI1C6D,KAAAA,EAAM,GAKV,YAHA7D,EAAiB,GAAI,GAAI,gBACvB,mDAAoD,SAIlD6D,KAAAA,EAAM,GAKV,YAHA7D,EAAiB,GAAI,GAAI,cACvB,iDAAkD,SAQxDH,EAAM+C,mBAAmB,YAEjBc,qBAAAA,OAAAA,EAAKI,IAAI,QACTJ,mBAAAA,OAAAA,EAAKI,IAAI,YACTJ,mBAAAA,OAAAA,EAAKI,IAAI,UACTD,mBAAAA,OAAAA,EACCE,oBAAAA,OAAAA,EAAOR,iBANhB,uBAUAV,EAAKmB,QAELhE,EAAiB,GAAI,GAAI,sBACvB,4BAA6B,WAE/ByD,MAGF5D,EAAMuB,iBAAiB,WAAY,SAAAC,GAC3B4C,IAAAA,EAAO5C,EAAEC,OACT4C,EAAYD,EAAAA,EAAKxB,cAAchB,UAEjC,GAACwC,EAAKE,QAAQ,MAAd,CAIEC,IAAAA,EAAcH,EAAKtD,UACnB0D,EAAYH,EAAMxC,QAAQuC,GAIxB,OAFRA,EAAKtD,UAAY,IAET,GACA0D,KAAc,IAAdA,EACJJ,EAAKrB,mBAAmB,YAELwB,8FAAAA,OAAAA,EACbA,2BAAAA,OAAAA,EAHN,2WAaA,MAEIC,KAAc,IAAdA,EACJJ,EAAKrB,mBAAmB,YAGbwB,8DAAAA,OAAAA,EAHX,sCAMA,MAEIC,KAAc,IAAdA,EACEC,IAAAA,EAAgBF,EAAYlC,MAAM,GAAGC,MAAM,KAAKC,KAAK,IAE3D6B,EAAKrB,mBAAmB,YAGX0B,oEAAAA,OAAAA,EAHb,wCAMA,MAEF,QACEL,EAAKrB,mBAAmB,YAGXwB,oEAAAA,OAAAA,EAHb,0DAUEG,IAAAA,EAAYN,EAAKO,iBAEvBD,EAAUE,QAEV3B,EAAemB,EAAMM,EAAWH,EAAaC,GAC7CZ","file":"main.2f31cf59.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nlet body = document.querySelector('body');\nlet thead = document.querySelector('thead');\nlet tbody = document.querySelector('tbody');\nlet tbodyTrs = [...document.querySelectorAll('tbody tr')];\n\nlet globalTargetForThead;\nlet globalTargetForTbody;\nlet globalActiveRow;\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const notification = document.createElement('div');\n  const elementTitle = document.createElement('h2');\n  const elementDescript = document.createElement('p');\n\n  notification.className = `notification ${type}`;\n  elementTitle.className = 'title';\n\n  elementTitle.innerText = title;\n  elementDescript.innerText = description;\n\n  notification.dataset.qa = 'notification';\n  notification.style.top = `${posTop}px`;\n  notification.style.right = `${posRight}px`;\n\n  notification.append(elementTitle);\n  notification.append(elementDescript);\n\n  document.body.append(notification);\n\n  setTimeout(() => notification.remove(), 2000);\n};\n\nthead.addEventListener('click', e => {\n  const target = e.target;\n  const indexColumn = [...thead.firstElementChild.children].indexOf(target);\n\n  const doubleClick = globalTargetForThead === target;\n\n  globalTargetForThead = (doubleClick) ? undefined : target;\n\n  tbodyTrs.sort((trA, trB) => {\n    let valueA = [...trA.children][indexColumn].innerText;\n    let valueB = [...trB.children][indexColumn].innerText;\n\n    if (target.innerText === 'Salary') {\n      valueA = valueA.slice(1).split(',').join('');\n      valueB = valueB.slice(1).split(',').join('');\n\n      return (doubleClick)\n        ? +valueB - +valueA\n        : +valueA - +valueB;\n    }\n\n    if (target.innerText === 'Age') {\n      return (doubleClick)\n        ? +valueB - +valueA\n        : +valueA - +valueB;\n    }\n\n    return (doubleClick)\n      ? valueB.localeCompare(valueA)\n      : valueA.localeCompare(valueB);\n  });\n\n  tbodyTrs.map(tr => tbody.append(tr));\n});\n\ntbody.addEventListener('click', e => {\n  const targetTr = e.target.parentElement;\n\n  const doubleClick = globalTargetForTbody === targetTr;\n\n  globalTargetForTbody = (doubleClick) ? undefined : targetTr;\n\n  if (globalActiveRow !== undefined) {\n    globalActiveRow.classList.remove('active');\n  }\n\n  (doubleClick)\n    ? targetTr.classList.remove('active')\n    : targetTr.classList.add('active');\n\n  globalActiveRow = targetTr;\n});\n\nbody.insertAdjacentHTML('beforeend', `\n  <form action=\"\" metod=\"get\" class=\"new-employee-form\">\n    <label>Name:\n      <input name=\"name\" data-qa=\"name\" pattern=\"^[a-zA-Z]+$\">\n    </label>\n\n    <label>Position:\n      <input name=\"position\" data-qa=\"position\"  pattern=\"^[a-zA-Z]+$\">\n    </label>\n\n    <label>Office:\n      <select name=\"office\" data-qa=\"office\">\n        <option value=\"Tokyo\">Tokyo</option>\n        <option value=\"Singapore\">Singapore</option>\n        <option value=\"London\">London</option>\n        <option value=\"New York\">New York</option>\n        <option value=\"Edinburgh\">Edinburgh</option>\n        <option value=\"San Francisco\">San Francisco</option>\n      </select>\n    </label>\n\n    <label>Age:\n      <input name=\"age\" data-qa=\"age\" type=\"number\">\n    </label>\n\n    <label>Salary:\n      <input name=\"salary\" data-qa=\"salary\" type=\"number\">\n    </label>\n\n    <button>Save to table</button>\n  </form>\n`);\n\nconst form = document.querySelector('form');\n\nform.addEventListener('submit', e => {\n  const data = new FormData(form);\n\n  e.preventDefault();\n\n  const age = +data.get('age');\n  const salary = +data.get('salary');\n\n  switch (true) {\n    case (!data.get('name')\n      || !data.get('position')\n      || !data.get('office')\n      || !age\n      || !salary):\n\n      pushNotification(10, 10, 'Fill in all fields',\n        'Necessary to fill all fields', 'error');\n\n      return;\n\n    case (data.get('name').length < 4):\n\n      pushNotification(10, 10, 'Too short Name',\n        'Enter a longer Name. Longer 3 characters', 'error');\n\n      return;\n\n    case (age < 18):\n\n      pushNotification(10, 10, 'Too young Age',\n        'You are too young for this shit.\\n Min Age is 18', 'error');\n\n      return;\n\n    case (age > 90):\n\n      pushNotification(10, 10, 'Too old Age',\n        'You are too old for this shit.\\n Max age is 90', 'error');\n\n      return;\n\n    default:\n      break;\n  }\n\n  tbody.insertAdjacentHTML('beforeend', `\n  <tr>\n    <td>${data.get('name')}</td>\n    <td>${data.get('position')}</td>\n    <td>${data.get('office')}</td>\n    <td>${age}</td>\n    <td>$${salary.toLocaleString()}</td>\n  </tr>\n  `);\n\n  form.reset();\n\n  pushNotification(10, 10, 'Person was appended',\n    'There are even more of us', 'success');\n\n  updatePageValues();\n});\n\ntbody.addEventListener('dblclick', e => {\n  const cell = e.target;\n  const cells = [...cell.parentElement.children];\n\n  if (!cell.matches('td')) {\n    return;\n  }\n\n  const initialText = cell.innerText;\n  const indexCell = cells.indexOf(cell);\n\n  cell.innerText = '';\n\n  switch (true) {\n    case (indexCell === 2):\n      cell.insertAdjacentHTML('beforeend', `\n      <select name=\"office\" data-qa=\"office\" class=\"cell-input\">\n        <option value=\"${initialText}\" disablet>\n          ${initialText}\n        </option>\n        <option value=\"Tokyo\">Tokyo</option>\n        <option value=\"Singapore\">Singapore</option>\n        <option value=\"London\">London</option>\n        <option value=\"New York\">New York</option>\n        <option value=\"Edinburgh\">Edinburgh</option>\n        <option value=\"San Francisco\">San Francisco</option>\n      </select>\n    `);\n      break;\n\n    case (indexCell === 3):\n      cell.insertAdjacentHTML('beforeend', `\n      <input\n        class=\"cell-input\"\n        value=\"${initialText}\"\n        type=\"number\">\n      `);\n      break;\n\n    case (indexCell === 4):\n      const initialSalary = initialText.slice(1).split(',').join('');\n\n      cell.insertAdjacentHTML('beforeend', `\n        <input\n          class=\"cell-input\"\n          value=\"${initialSalary}\"\n          type=\"number\">\n      `);\n      break;\n\n    default:\n      cell.insertAdjacentHTML('beforeend', `\n        <input\n          class=\"cell-input\"\n          value=\"${initialText}\"\n          pattern=\"^[a-zA-Z]+$\"\n        >\n      `);\n      break;\n  }\n\n  const inputEdit = cell.lastElementChild;\n\n  inputEdit.focus();\n\n  addInputEvents(cell, inputEdit, initialText, indexCell);\n  updatePageValues();\n});\n\nfunction addInputEvents(target, input, initial, indexTarget) {\n  input.addEventListener('blur', () => {\n    updateCellValue(target, input, initial, indexTarget);\n  });\n\n  input.addEventListener('keyup', e => {\n    if (e.code === 'Enter') {\n      updateCellValue(target, input, initial, indexTarget);\n    }\n  });\n};\n\nfunction updateCellValue(target, input, initialValue, indexTarget) {\n  let value;\n\n  if (input.value) {\n    value = [...input.value].join('');\n\n    switch (true) {\n      case indexTarget === 4:\n        value = `$${Number(value).toLocaleString()}`;\n        break;\n\n      case indexTarget === 3:\n        if (+value < 18 || +value > 90) {\n          pushNotification(10, 10, 'Incorrect data',\n            'Min Age is 18\\n Max Age is 90', 'error');\n\n          value = initialValue;\n        }\n        break;\n\n      case indexTarget === 0:\n        if (value.length < 4) {\n          pushNotification(10, 10, 'Too short Name',\n            'Enter a longer Name. Longer 3 characters', 'error');\n\n          value = initialValue;\n        }\n        break;\n\n      default:\n        break;\n    }\n  } else {\n    value = initialValue;\n  }\n\n  input.remove();\n  target.innerText = value;\n};\n\nfunction updatePageValues() {\n  thead = document.querySelector('thead');\n  tbodyTrs = [...document.querySelectorAll('tbody tr')];\n  tbody = document.querySelector('tbody');\n  body = document.querySelector('body');\n};\n"]}